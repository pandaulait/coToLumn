<!DOCTYPE html>
<html>
  <head>
    <title>coToLumn</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <script src="https://kit.fontawesome.com/199c184033.js" crossorigin="anonymous"></script>
  </head>

  <body>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        tex2jax: { inlineMath: [['$','$'],['\(','\)']] }
      });
    </script>
    <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light ">
        <div class="container-fluid">
          <%= image_tag "logo2.png" ,class: "logo mx-2"%>
          <!--<div class="logo"></div>-->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item bg-white">
                  <%= link_to '記事一覧', texts_path,class: "nav-link active" %>
                </li>
              <% if user_signed_in? %>
                <li class="nav-item">
                  <%= link_to '新規問題投稿', new_problem_path,class: "nav-link active bg-white" ,data: {"turbolinks"=>false}%>
                </li>
                <li class="nav-item">
                  <%= link_to 'トピック一覧', topics_path,class: "nav-link active bg-white" ,data: {"turbolinks"=>false}%>
                </li>
                <li class="nav-item">
                  <%= link_to 'コラム投稿', new_column_path,class: "nav-link active bg-white" ,data: {"turbolinks"=>false}%>
                </li>
                <li class="nav-item">
                  <%= link_to "ログアウト", destroy_user_session_path, method: :delete  ,class: "nav-link active"%>
                </li>
                <li class="nav-item">
                  <%= link_to "マイページ", user_path(current_user) ,class: "nav-link active"%>
                </li>
              <% else %>
                <li class="nav-item">
                  <%= link_to "新規登録", new_user_registration_path,class: "nav-link active"%>
                </li>
                <li class="nav-item">
                  <%= link_to "ログイン", new_user_session_path ,class: "nav-link active"%>
                </li>
                <li class="nav-item">
                  <%= link_to 'ゲストログイン（閲覧用）', users_guest_sign_in_path, method: :post ,class: "nav-link active"%>
                </li>

              <% end %>
              <% if admin_signed_in? %>
                <li class="nav-item bg-secondary">
                  <%= link_to '投稿フォーム', new_admin_text_path,class: "nav-link active" ,data: {"turbolinks"=>false}%>
                </li>
                <li class="nav-item bg-secondary">
                  <%= link_to "ログアウト", destroy_admin_session_path, method: :delete  ,class: "nav-link active"%>
                </li>
              <% else %>
                <li class="nav-item  bg-secondary">
                  <%= link_to "新規登録", new_admin_registration_path,class: "nav-link active"%>
                </li>
                <li class="nav-item  bg-secondary">
                  <%= link_to "ログイン", new_admin_session_path ,class: "nav-link active"%>
                </li>
              <% end %>

          </div>
        </div>
      </nav>
      <% flash.each do |key, value| %>
        <%= content_tag(:div, value, class: "#{key} alert-view") %>
      <% end %>
    </header>
    <main>
      <div class="container bg-note">
        <div class="row">
          <div class="col-lg-1">aaa</div>
          <div class="col-lg-8"><%= yield %></div>
          <div class="col-lg-2">assaa</div>
        </div>

      </div>
    </main>
  </body>
</html>
